<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
<!ENTITY RFC2119 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.2119.xml">
]>
<?xml-stylesheet type='text/xsl' href='rfc2629.xslt' ?>
<?rfc strict="yes" ?>
<?rfc toc="yes"?>
<?rfc tocdepth="4"?>
<?rfc symrefs="yes"?>
<?rfc sortrefs="yes" ?>
<?rfc compact="yes" ?>
<?rfc subcompact="no" ?>
<rfc 
	category="info" 
        docName="draft-transport-init-0-RTT-00"
	ipr="trust200902">
  <!-- category values: std, bcp, info, exp, and historic
     ipr values: full3667, noModification3667, noDerivatives3667
     you can add the attributes updates="NNNN" and obsoletes="NNNN" 
     they will automatically be output with "(if approved)" -->

  <!-- ***** FRONT MATTER ***** -->

  <front>
    <!-- The abbreviated title is used in the page header - it is only necessary if the 
         full title is longer than 39 characters -->

    <title abbrev="Transport for 0-RTT">Initialization of transport parameters for 0-RTT connections</title>
   
    <author role="editor" fullname="Nicolas Kuhn" initials="N" surname="Kuhn">
      <organization>CNES</organization>
      <address>
        <postal>
          <street>18 Avenue Edouard Belin</street>
          <city>Toulouse</city>
          <region></region>
          <code>31400</code>
          <country>France</country>
        </postal>
        <phone></phone>
        <email>nicolas.kuhn@cnes.fr</email>
      </address>
    </author>

    <author role="editor" fullname="Emile Stephan" initials="E" surname="Stephan">
      <organization>Orange</organization>
      <address>
        <postal>
          <street>2, avenue Pierre Marzin</street>
          <city>Lannion</city>
          <region></region>
          <code>22300</code>
          <country>France</country>
        </postal>
        <phone></phone>
        <email>emile.stephan@orange.com</email>
      </address>
    </author>
  
    <date month="Feb" year="2019" />

    <!-- If the month and year are both specified and are the current ones, xml2rfc will fill 
         in the current day for you. If only the current year is specified, xml2rfc will fill 
	 in the current day and month for you. If the year is not the current one, it is 
	 necessary to specify at least a month (xml2rfc assumes day="1" if not specified for the 
	 purpose of calculating the expiry date).  With drafts it is normally sufficient to 
	 specify just the year. -->

    <!-- Meta-data Declarations -->

    <area>Transport</area>

    <workgroup>Internet Engineering Task Force</workgroup>

    <!-- WG name at the upperleft corner of the doc,
         IETF is fine for individual submissions.  
	 If this element is not present, the default is "Network Working Group",
         which is used by the RFC Editor as a nod to the history of the IETF. -->

    <keyword>QUIC, high BDP, Initial Window</keyword>

    <!-- Keywords will be incorporated into HTML output
         files in a meta tag but they have no effect on text or nroff
         output. If you submit your draft to the RFC Editor, the
         keywords will be used for the search engine. -->

        <!-- ######################################################-->
        <!-- ######################################################-->
        <!-- Head of the document -->
        <!-- ######################################################--> 
        <!-- ######################################################--> 
	<abstract>
	<t>0-RTT is designed to accelerate the throughput at the establishment of a connection. There are cases where 0-RTT alone does not improve the time-to-service.</t>
	<t> This memo discusses 2 solutions where a fundamental characteristic of the path is learned and shared during the 1-RTT phase to accelerate the initial throughput during subsequent 0-RTT connections.</t>
	</abstract>
  </front>

  <middle>

	<section anchor="sec:introduction" title="Introduction">
	<t>0-RTT is designed to accelerate the throughput at the establishment of a connection. There are cases where 0-RTT alone does not improve the time-to-service.</t>
	<t>QUIC connections can hardly be split as TCP connections can be to adapt the inadequate slow-start to high BDP use-cases. As one example, PEP <xref target="RFC3135">RFC&nbsp;3135</xref> are commonly deployed in SATCOM infrastructure for that purpose. This results in an improved quality-of-experience for web browsing users <xref target="QOE_PEP"></xref>. As of today, we can expect the congestion control is QUIC to exhibit the same performance trends than those of TCP versions deployed today.</t>
	<t> This memo discusses 2 solutions where a fundamental characteristic of the path is learned and shared during the 1-RTT phase to accelerate the initial throughput during subsequent 0-RTT connections.</t>

	</section>

        <!-- ######################################################-->
        <!-- ######################################################-->
        <!-- Body of the document -->
        <!-- ######################################################--> 
        <!-- ######################################################--> 

        <!-- ######################################################-->
        <!-- New section -->
        <!-- ######################################################-->
        
        <section anchor="sec:quic-connec-est" title="QUIC connection establishment">

        <t>QUIC leverages the 2 handshakes of TLS1.3 <xref target="I-D.ietf-quic-tls"></xref>. During the 1-RTT, the server pushes information learned about the session to the client in a session ticket (see section 4.6.1 of <xref target="RFC8446"></xref>) that enables the client to send application early data during subsequent 0-RTT connections.</t> 

	<t>Prior to the establishment of the 0-RTT connection by a QUIC client, the server MUST have provided the 'ticket' value in a NewSessionTicket record <xref target="I-D.ietf-quic-tls"></xref>. The structure of the NewSessionTicket includes the opaque 'ticket' and an 'extensions' field. Currently, there is one extension defined, named 'early_data', which indicates to the client the maximal size of application data to insert in the 0-RTT message.</t>

	<t>A client willing to re-establish the session pushes back the opaque 'ticket' in a 0-RTT handshake as the PSK field of the pre_shared_key record.</t>

	</section>

        <!-- ######################################################-->
        <!-- New section -->
        <!-- ######################################################-->
        
        <section anchor="sec:solution" title="0-RTT for large BDP connections">
	<t>To obtain an QoE acceptable for end-users applications a TCP PEP forces the IW to a higher value. The value depends directly on the BDP.</t>
	<t>This section discusses a replacement with an end-to-end approach. It consists in recalling the BDP previously measured by the server in the 0-RTT handshake. The approached follows somehow the proposal of <xref target="I-D.irtf-iccrg-sallantin-initial-spreading"></xref> which performance has been shown to improve both high BDP and more common BDP <xref target="CONEXT15"></xref><xref target="ICC16"></xref>. 

	<t>A server which measures a connection BDP far larger than usual sends the value to the client in a NewSessionTicket message. The client stores the information. When the client reconnects, it adds the BDP information to the ClientHello. The server receives the BDP information and adapts the initial window to get a throughput closer to the capacity of the path.</t>

	<t>The BDP information may be carried either in the 'extensions' or in the 'ticket' field. Each option has its own advantages:<list style="symbols">
	<t>The specification of the carrying of the BDP value in the 'extensions' field is paintful because it requires specification materials for each direction. It requires defining a new extension to allow the server to push the BDP value in the 'extensions' field of the NewSessionTicket.  The advantage of this option is that it informs the transport layer of the client of the path characteristic. It requires the specification of an additional way to push back the value in the ClientHello.</t>
	<t>The specification of the carrying of the BDP in the 'ticket' field is far more simple. The server adds the BDP value to the opaque 'ticket' field. It does not require any interoperability with the client as the opaque value is encoded by the server and decoded from the ClientHello only by the server. The drawback is that it does not inform the client of the presence of a high BDP value.</t>
	</list></t>

	<t>A proposal consists in mixing both:  <list style="symbols">
	<t>A new extension named "BDP_data" is defined for NewSessionTicket.  It contains the following value: BDP_value:  The value in unit [TBD]</t>
  
BDP_data indicates to the client receiving the NewSessionTicket record firstly that that the session path has a large BDP and secondly that the server added the same indication in the 'ticket' field.
It indicates to the server that the client is informed of the path characteristic and that it will receive back the BDP information in 'ticket' field when the client will reconnect.</t>

	</section>

        <!-- ######################################################-->
        <!-- New section -->
        <!-- ######################################################-->
        
        <section anchor="sec:benefits" title="Benefits on adapting slow-start in high BDP networks">

	<t>The approched follows somehow the proposal of <xref target="I-D.irtf-iccrg-sallantin-initial-spreading"></xref> which performance has been shown to be interesting for both high BDP and more common BDP <xref target="CONEXT15"></xref><xref target="ICC16"></xref>.</t>

	</section>

        <!-- ######################################################-->
        <!-- ######################################################-->
        <!-- Tail of the document -->
        <!-- ######################################################--> 
        <!-- ######################################################--> 

	<section anchor="sec:acknowledgements" title="Acknowledgements">
	<t>None.</t>
	</section>

	<section anchor="sec:contributors" title="Contributors">
	<t>None.</t>
	</section>

	<section anchor="sec:IANA" title="IANA Considerations">
	<t>This version of the memo includes no request to IANA.</t>
	</section>

	<section anchor="sec:ecurity" title="Security Considerations">
	<t>The security is provided by the 1-RTT phase.</t>
	</section>
	</middle>

	<!--  *****BACK MATTER ***** -->
	<back>
	<!-- References split into informative and normative -->
	<!-- There are 2 ways to insert reference entries from the citation libraries:
	1. define an ENTITY at the top, and use "ampersand character"RFC2629; here (as shown)
	2. simply use a PI "less than character"?rfc include="reference.RFC.2119.xml"?> here
	(for I-Ds: include="reference.I-D.narten-iana-considerations-rfc2434bis.xml")
	Both are cited textually in the same manner: by using xref elements.
	If you use the PI option, xml2rfc will, by default, try to find included files in the same
	directory as the including file. You can also define the XML_LIBRARY environment variable
	with a value containing a set of directories to search.  These can be either in the local
	filing system or remote ones accessed by http (http://domain/dir/... ).-->

	<references title="Normative References">
		&RFC2119;
	</references>

	<references title="Informative References">
		<?rfc include="reference.RFC.3135.xml"?>
		<?rfc include="reference.RFC.8446.xml"?>
		<?rfc include="reference.I-D.ietf-quic-tls.xml"?> 
		<?rfc include="reference.I-D.ietf-quic-transport.xml"?> 
		<?rfc include="reference.I-D.ietf-tls-ticketrequests.xml"?>
		<?rfc include="reference.I-D.irtf-iccrg-sallantin-initial-spreading.xml"?>
                <reference anchor="QOE_PEP">
                    <front>
                    <title>MPTCP and BBR performance over Internet satellite paths</title>
                    <author initials="N" surname="Kuhn">
                    </author>
                    <date year="2017" />
                    </front>
                    <seriesInfo name="IETF ICCRG" value="100" />
                </reference>
                <reference anchor="CONEXT15">
                    <front>
                    <title>Halfback: Running Short Flows Quickly and Safely</title>
		    <author initials="Q" surname="Li">
                    </author>
		    <author initials="M" surname="Dong">
                    </author>
		    <author initials="P B" surname="Godfrey">
                    </author>
                    <date year="2015" />
                    </front>
                    <seriesInfo name="ACM CoNEXT" value="" />
                </reference>
                <reference anchor="ICC16">
                    <front>
                    <title>Reducing web latency through TCP IW: Be smart</title>
                    <author initials="R" surname="Sallantin">
                    </author>
                    <author initials="C" surname="Baudoin">
                    </author>
                    <author initials="E" surname="Chaput">
                    </author>
                    <author initials="F" surname="Arnal">
                    </author>
                    <author initials="E" surname="Dubois">
                    </author>
                    <author initials="A-L" surname="Beylot">
                    </author>
                    <date year="2016" />
                    </front>
                    <seriesInfo name="IEEE ICC" value=""/>
                </reference>
       	</references>
	</back>
</rfc>
