



Internet Engineering Task Force                                  N. Kuhn
Internet-Draft                                                      CNES
Intended status: Informational                              G. Fairhurst
Expires: October 15, 2019                         University of Aberdeen
                                                               J. Border
                                             Hughes Network Systems, LLC
                                                              E. Stephan
                                                                  Orange
                                                          April 13, 2019


                     QUIC for SATCOM communications
                        draft-kuhn-quic-4sat-00

Abstract

   The usage of a congestion control and transport initialization not
   adapted to satellite communication results in higher page loading
   time for heavy pages in a SATCOM context.  QUIC's congestion control
   is based on TCP NewReno and the recommended initial window is 10
   packets.  This may not be suitable for good quality of experience for
   users in high Bandwidth Delay-Product (BDP) networks.

   This memo identifies the characteristics of a SATCOM link that has an
   impact on QUIC transport protocol and proposes best current practice
   so as to how improve the protocol performance.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on October 15, 2019.








Kuhn, et al.            Expires October 15, 2019                [Page 1]

Internet-Draft                 QUIC 4 SAT                     April 2019


Copyright Notice

   Copyright (c) 2019 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (https://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Large BDP connections . . . . . . . . . . . . . . . . . . . .   3
   3.  TCP split solution  . . . . . . . . . . . . . . . . . . . . .   3
   4.  Adaptations on QUIC for SATCOM  . . . . . . . . . . . . . . .   4
     4.1.  Getting up to speed . . . . . . . . . . . . . . . . . . .   4
     4.2.  Reliability . . . . . . . . . . . . . . . . . . . . . . .   4
     4.3.  Maximum window  . . . . . . . . . . . . . . . . . . . . .   4
   5.  Discussion  . . . . . . . . . . . . . . . . . . . . . . . . .   4
   6.  Acknowledgements  . . . . . . . . . . . . . . . . . . . . . .   4
   7.  Contributors  . . . . . . . . . . . . . . . . . . . . . . . .   4
   8.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   5
   9.  Security Considerations . . . . . . . . . . . . . . . . . . .   5
   10. References  . . . . . . . . . . . . . . . . . . . . . . . . .   5
     10.1.  Normative References . . . . . . . . . . . . . . . . . .   5
     10.2.  Informative References . . . . . . . . . . . . . . . . .   5
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   7

1.  Introduction

   The usage of a congestion control and transport initialization not
   adapted to satellite communication results in higher page loading
   time for heavy pages in a SATCOM context [IJSCN19].  QUIC's
   congestion control is based on TCP NewReno [I-D.ietf-quic-recovery]
   and the recommended initial window is defined by [RFC6928].  This may
   not be suitable for good quality of experience for users in high
   Bandwidth Delay-Product (BDP) networks.

   This memo identifies the characteristics of a SATCOM link that has an
   impact on QUIC transport protocol and proposes best current practice
   so as to how improve the protocol performance.




Kuhn, et al.            Expires October 15, 2019                [Page 2]

Internet-Draft                 QUIC 4 SAT                     April 2019


2.  Large BDP connections

   GEO-satellite based systems characteristics differ from terrestrial
   networks with:

   o  A large propagation delay of at least 250ms one-way delay;

   o  A high loss-rate (e.g. mobile users or users behind a Wi-Fi link);

   o  Highly asymmetric links.

   More information on satellite links characteristics can be found in
   [RFC2488].

   These characteristics have an impact on end-to-end congestion
   controls:

   o  Transport initialization: the 3-way handshake takes a long time
      reducing the time at which actual data can be transmitted;

   o  Maximum windows sizing: to fully exploit the bottleneck capacity,
      the high BDP may induce an important number of in-flights packets;

   o  Reliability: packet losses detection and correction is slow and
      the time needed for the end server to react to a congestion event
      may not be relevant;

   o  Getting up to speed: the exponential increase of the data rate
      transmission for a channel capacity probing is slowed down when
      the RTT is high.

3.  TCP split solution

   High BDP networks commonly break the TCP end-to-end paradigm to adapt
   the transport protocol.  Splitting TCP allows adaptations to this
   specific use-case and assessing the issues discussed in section
   Section 2.  PEP [RFC3135] are commonly deployed in SATCOM
   infrastructure for that purpose and their deployment can result in
   50% page load time reduction in a SATCOM use-case [ICCRG100].

   [NCT13] and [RFC3135] describe the main functionalities of SATCOM TCP
   split solutions.  Shortly, for traffic going from a gateway to an end
   user behind a terminal, the TCP split intercepts TCP SYN to act as
   the end user and adapt the data rate transmission to the SATCOM
   scenario.  The TCP split specifically tune the TCP parameters to the
   context (latency, available capacity) that is measured.





Kuhn, et al.            Expires October 15, 2019                [Page 3]

Internet-Draft                 QUIC 4 SAT                     April 2019


   One important advantage of a TCP split solution is that it does not
   require any end-to-end modifications and is independent for both
   client and server sides.  That being said, this comes with a
   drawback: TCP splitters can hardly embed the most recent end-to-end
   improvements (e.g.  ECN or TCP Fast Open support).

4.  Adaptations on QUIC for SATCOM

4.1.  Getting up to speed

   3-way handshake takes a long time reducing the time at which actual
   data can be transmitted.

   The tuning of the initial window described in
   [I-D.irtf-iccrg-sallantin-initial-spreading] which has been shown to
   improve performance both for high BDP and more common BDP
   [CONEXT15][ICC16].

4.2.  Reliability

   Packet losses detection and correction is slow and the time needed
   for the end server to react to a congestion event may not be
   relevant.  This happens when a user uses a Wi-Fi link to access a
   SATCOM terminal.

   Introducing network coding in QUIC could help in recovering from the
   residual Wi-Fi losses.

4.3.  Maximum window

   To fully exploit the bottleneck capacity, the high BDP may induce an
   important number of in-flights packets.

5.  Discussion

   TBD

6.  Acknowledgements

   None.

7.  Contributors

   None.







Kuhn, et al.            Expires October 15, 2019                [Page 4]

Internet-Draft                 QUIC 4 SAT                     April 2019


8.  IANA Considerations

   TBD: text is required to register the extension BDP_data field.

9.  Security Considerations

   The security is provided by the 1-RTT phase.  The measure of BDP is
   made during a previous connection.  The exchange and the information
   are protected both by the TLS encryption and the NewSessionTicket
   (see section 4.6.1 of [RFC8446]).

   The BDP information the server will received is protected in the
   opaque session ticket.  The 'BDP_data' field is visible by the client
   only.  An client which does not trust the server transport adaptation
   ignores any session ticket associated to a 'BDP_data' field.

10.  References

10.1.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

10.2.  Informative References

   [CONEXT15]
              Li, Q., Dong, M., and P. Godfrey, "Halfback: Running Short
              Flows Quickly and Safely", ACM CoNEXT , 2015.

   [I-D.ietf-quic-recovery]
              Iyengar, J. and I. Swett, "QUIC Loss Detection and
              Congestion Control", draft-ietf-quic-recovery-19 (work in
              progress), March 2019.

   [I-D.ietf-quic-tls]
              Thomson, M. and S. Turner, "Using TLS to Secure QUIC",
              draft-ietf-quic-tls-19 (work in progress), March 2019.

   [I-D.ietf-quic-transport]
              Iyengar, J. and M. Thomson, "QUIC: A UDP-Based Multiplexed
              and Secure Transport", draft-ietf-quic-transport-19 (work
              in progress), March 2019.







Kuhn, et al.            Expires October 15, 2019                [Page 5]

Internet-Draft                 QUIC 4 SAT                     April 2019


   [I-D.ietf-tls-ticketrequests]
              Pauly, T., Schinazi, D., and C. Wood, "TLS Ticket
              Requests", draft-ietf-tls-ticketrequests-00 (work in
              progress), January 2019.

   [I-D.irtf-iccrg-sallantin-initial-spreading]
              Sallantin, R., Baudoin, C., Arnal, F., Dubois, E., Chaput,
              E., and A. Beylot, "Safe increase of the TCP's Initial
              Window Using Initial Spreading", draft-irtf-iccrg-
              sallantin-initial-spreading-00 (work in progress), January
              2014.

   [ICC16]    Sallantin, R., Baudoin, C., Chaput, E., Arnal, F., Dubois,
              E., and A-L. Beylot, "Reducing web latency through TCP IW:
              Be smart", IEEE ICC , 2016.

   [ICCRG100]
              Kuhn, N., "MPTCP and BBR performance over Internet
              satellite paths", IETF ICCRG 100, 2017.

   [IJSCN19]  Thomas, L., Dubois, E., Kuhn, N., and E. Lochin, "Google
              QUIC performance over a public SATCOM access",
              International Journal of Satellite Communications and
              Networking , 2019.

   [NCT13]    Pirovano, A. and F. Garcia, "A new survey on improving TCP
              performances over geostationary satellite link", Network
              and Communication Technologies , 2013.

   [RFC2488]  Allman, M., Glover, D., and L. Sanchez, "Enhancing TCP
              Over Satellite Channels using Standard Mechanisms",
              BCP 28, RFC 2488, DOI 10.17487/RFC2488, January 1999,
              <https://www.rfc-editor.org/info/rfc2488>.

   [RFC3135]  Border, J., Kojo, M., Griner, J., Montenegro, G., and Z.
              Shelby, "Performance Enhancing Proxies Intended to
              Mitigate Link-Related Degradations", RFC 3135,
              DOI 10.17487/RFC3135, June 2001,
              <https://www.rfc-editor.org/info/rfc3135>.

   [RFC6349]  Constantine, B., Forget, G., Geib, R., and R. Schrage,
              "Framework for TCP Throughput Testing", RFC 6349,
              DOI 10.17487/RFC6349, August 2011,
              <https://www.rfc-editor.org/info/rfc6349>.







Kuhn, et al.            Expires October 15, 2019                [Page 6]

Internet-Draft                 QUIC 4 SAT                     April 2019


   [RFC6928]  Chu, J., Dukkipati, N., Cheng, Y., and M. Mathis,
              "Increasing TCP's Initial Window", RFC 6928,
              DOI 10.17487/RFC6928, April 2013,
              <https://www.rfc-editor.org/info/rfc6928>.

   [RFC8446]  Rescorla, E., "The Transport Layer Security (TLS) Protocol
              Version 1.3", RFC 8446, DOI 10.17487/RFC8446, August 2018,
              <https://www.rfc-editor.org/info/rfc8446>.

Authors' Addresses

   Nicolas Kuhn
   CNES

   Email: nicolas.kuhn@cnes.fr


   Godred Fairhurst
   University of Aberdeen

   Email: gorry@erg.abdn.ac.uk


   John Border
   Hughes Network Systems, LLC

   Email: border@hns.com


   Emile Stephan
   Orange

   Email: emile.stephan@orange.com


















Kuhn, et al.            Expires October 15, 2019                [Page 7]
